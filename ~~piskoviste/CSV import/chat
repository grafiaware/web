V PHP mÅ¯Å¾eÅ¡ ÄÃ­st CSV soubor nÄ›kolika zpÅ¯soby. NejÄastÄ›ji se pouÅ¾Ã­vÃ¡ funkce `fgetcsv()`, kterÃ¡ umoÅ¾Åˆuje ÄtenÃ­ CSV Å™Ã¡dek po Å™Ã¡dku.  

### **JednoduchÃ½ pÅ™Ã­klad ÄtenÃ­ CSV souboru**  
```php
<?php
$filename = "data.csv"; // NÃ¡zev CSV souboru

if (($handle = fopen($filename, "r")) !== FALSE) { 
    while (($row = fgetcsv($handle, 1000, ",")) !== FALSE) { 
        print_r($row); // VÃ½pis obsahu Å™Ã¡dku
    }
    fclose($handle);
} else {
    echo "NepodaÅ™ilo se otevÅ™Ã­t soubor.";
}
?>
```
âœ… Tento skript:  
- OtevÅ™e CSV soubor pro ÄtenÃ­ (`fopen()`)
- PouÅ¾ije `fgetcsv()` ke ÄtenÃ­ jednotlivÃ½ch Å™Ã¡dkÅ¯ jako pole (`array`)
- ZavÅ™e soubor (`fclose()`)

---

### **PokroÄilejÅ¡Ã­ ÄtenÃ­ CSV souboru s hlaviÄkou**
Pokud mÃ¡ CSV prvnÃ­ Å™Ã¡dek jako hlaviÄku, mÅ¯Å¾eme ji pouÅ¾Ã­t jako klÃ­Äe v asociativnÃ­m poli:

```php
<?php
$filename = "data.csv";

if (($handle = fopen($filename, "r")) !== FALSE) {
    $header = fgetcsv($handle); // PrvnÃ­ Å™Ã¡dek jako hlaviÄka
    $data = [];

    while (($row = fgetcsv($handle, 1000, ",")) !== FALSE) {
        $data[] = array_combine($header, $row); // SpojÃ­ hlaviÄku s daty
    }

    fclose($handle);
    print_r($data);
} else {
    echo "NepodaÅ™ilo se otevÅ™Ã­t soubor.";
}
?>
```
âœ… Tento skript:
- PÅ™eÄte prvnÃ­ Å™Ã¡dek jako hlaviÄku (`fgetcsv()`)
- PouÅ¾ije `array_combine()` k pÅ™iÅ™azenÃ­ hodnot ke klÃ­ÄÅ¯m
- UloÅ¾Ã­ data do pole a vypÃ­Å¡e je

---

### **PouÅ¾itÃ­ `SplFileObject` (ModernÄ›jÅ¡Ã­ pÅ™Ã­stup)**
Alternativou k `fgetcsv()` je `SplFileObject`:

```php
<?php
$file = new SplFileObject("data.csv");
$file->setFlags(SplFileObject::READ_CSV);

foreach ($file as $row) {
    print_r($row);
}
?>
```
âœ… Tento pÅ™Ã­stup je efektivnÄ›jÅ¡Ã­ pro velkÃ© soubory.

PotÅ™ebujeÅ¡ CSV soubor i zapisovat, nebo jen ÄÃ­st? ğŸš€


KromÄ› `fgetcsv()` a `SplFileObject` existuje nÄ›kolik dalÅ¡Ã­ch zpÅ¯sobÅ¯, jak ÄÃ­st CSV soubor v PHP. Zde jsou rÅ¯znÃ© alternativy:

---

### **1ï¸âƒ£ PouÅ¾itÃ­ `file()` a `explode()`**
Tento zpÅ¯sob naÄte celÃ½ soubor do pole Å™Ã¡dkÅ¯ a pak je rozdÄ›luje ruÄnÄ› pomocÃ­ `explode()`.

```php
<?php
$filename = "data.csv";
$lines = file($filename, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);

foreach ($lines as $line) {
    $row = explode(",", $line);
    print_r($row);
}
?>
```
âœ… **VÃ½hody**:  
- JednoduchÃ© a rychlÃ© pro malÃ© soubory.  
- NemusÃ­Å¡ pouÅ¾Ã­vat souborovÃ© ukazatele.  

âŒ **NevÃ½hody**:  
- MÅ¯Å¾e zpÅ¯sobit problÃ©my, pokud jsou v CSV souboru hodnoty uzavÅ™enÃ© v uvozovkÃ¡ch nebo obsahujÃ­ ÄÃ¡rky.  

---

### **2ï¸âƒ£ PouÅ¾itÃ­ `str_getcsv()`**
Tento pÅ™Ã­stup kombinuje `file()` a funkci `str_getcsv()`, kterÃ¡ umÃ­ lÃ©pe parsovat CSV Å™Ã¡dky.

```php
<?php
$filename = "data.csv";
$lines = file($filename, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);

foreach ($lines as $line) {
    $row = str_getcsv($line);
    print_r($row);
}
?>
```
âœ… **VÃ½hody**:  
- Funguje podobnÄ› jako `fgetcsv()`, ale bez potÅ™eby otevÅ™enÃ­ souboru ruÄnÄ›.  

âŒ **NevÃ½hody**:  
- NaÄÃ­tÃ¡ celÃ½ soubor do pamÄ›ti (nevhodnÃ© pro velmi velkÃ© soubory).  

---

### **3ï¸âƒ£ PouÅ¾itÃ­ knihovny jako `League\Csv`**
Pokud chceÅ¡ robustnÄ›jÅ¡Ã­ Å™eÅ¡enÃ­, mÅ¯Å¾eÅ¡ pouÅ¾Ã­t knihovnu [League\Csv](https://csv.thephpleague.com/).

ğŸ“Œ Instalace pÅ™es Composer:
```
composer require league/csv
```

ğŸ“Œ PouÅ¾itÃ­:
```php
<?php
require 'vendor/autoload.php';

use League\Csv\Reader;

$csv = Reader::createFromPath('data.csv', 'r');
$csv->setHeaderOffset(0); // Pokud mÃ¡ CSV hlaviÄku

foreach ($csv as $row) {
    print_r($row);
}
?>
```
âœ… **VÃ½hody**:  
- Podporuje pokroÄilÃ© funkce (napÅ™. filtrovÃ¡nÃ­, validaci dat).  
- UmÃ­ pracovat s velkÃ½mi soubory efektivnÄ›.  

âŒ **NevÃ½hody**:  
- PotÅ™ebuje instalaci pÅ™es Composer.  

---

### **4ï¸âƒ£ PouÅ¾itÃ­ PDO a doÄasnÃ© SQL tabulky (pro velkÃ¡ data)**
Pokud mÃ¡Å¡ obrovskÃ© CSV soubory, mÅ¯Å¾eÅ¡ je doÄasnÄ› naÄÃ­st do MySQL a pracovat s nimi pomocÃ­ SQL dotazÅ¯.

```php
<?php
$pdo = new PDO("mysql:host=localhost;dbname=test", "root", "");

$query = "
    LOAD DATA INFILE 'data.csv' 
    INTO TABLE my_table 
    FIELDS TERMINATED BY ',' 
    OPTIONALLY ENCLOSED BY '\"'
    LINES TERMINATED BY '\n'
    IGNORE 1 LINES"; // PÅ™eskakuje hlaviÄku

$pdo->exec($query);
?>
```
âœ… **VÃ½hody**:  
- ExtrÃ©mnÄ› rychlÃ© pro velkÃ¡ data.  
- MoÅ¾nost pouÅ¾itÃ­ SQL dotazÅ¯ k filtrovÃ¡nÃ­ dat.  

âŒ **NevÃ½hody**:  
- PotÅ™ebuje MySQL databÃ¡zi a sprÃ¡vnÃ¡ oprÃ¡vnÄ›nÃ­.  

---

### **ShrnutÃ­ nejlepÅ¡Ã­ch metod**
| Metoda                 | VhodnÃ© pro | VÃ½hody | NevÃ½hody |
|------------------------|-----------|--------|----------|
| `fgetcsv()`            | StÅ™ednÃ­ soubory | JednoduchÃ©, nativnÃ­ | MÅ¯Å¾e bÃ½t pomalejÅ¡Ã­ pro velkÃ© soubory |
| `SplFileObject`        | VelkÃ© soubory | PamÄ›Å¥ovÄ› efektivnÃ­ | MÃ©nÄ› intuitivnÃ­ syntaxe |
| `file() + explode()`   | MalÃ© soubory | NejjednoduÅ¡Å¡Ã­ zpÅ¯sob | NeumÃ­ sprÃ¡vnÄ› uvozovky a oddÄ›lovaÄe |
| `str_getcsv()`         | StÅ™ednÃ­ soubory | LepÅ¡Ã­ neÅ¾ `explode()` | NaÄÃ­tÃ¡ celÃ½ soubor do pamÄ›ti |
| `League\Csv` (Composer) | PokroÄilÃ© aplikace | BohatÃ© moÅ¾nosti | NutnÃ¡ instalace knihovny |
| MySQL `LOAD DATA INFILE` | VelkÃ¡ data | ExtrÃ©mnÄ› rychlÃ© | PotÅ™ebuje databÃ¡zi |

ğŸ“Œ JakÃ½ zpÅ¯sob preferujeÅ¡? ğŸš€
